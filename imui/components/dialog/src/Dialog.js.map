{"version":3,"sources":["Dialog.jsx"],"names":[],"mappings":";;;;;;;;;;AAMA;;;;AACA;;;;;;;;+eAPA;;;;;;IASM,M;;;AACJ,kBAAY,KAAZ,EAAmB;AAAA;;AAAA,0FACX,KADW;;AAGjB,UAAK,WAAL,GAAmB,MAAK,WAAL,CAAiB,IAAjB,OAAnB;AACA,UAAK,OAAL,GAAe,MAAK,OAAL,CAAa,IAAb,OAAf;AAJiB;AAKlB;;;;gCAGW,O,EAAS;AACnB,UAAM,OAAO,SAAS,IAAtB;;AAEA,UAAI,+BAAoB,OAAxB,EAAiC;AAC/B,aAAK,KAAL,CAAW,YAAX,GAA6B,8BAA7B;AACA,aAAK,KAAL,CAAW,QAAX,GAAsB,QAAtB;AACD,OAHD,MAGO;AACL,aAAK,KAAL,CAAW,YAAX,GAA0B,EAA1B;AACA,aAAK,KAAL,CAAW,QAAX,GAAsB,MAAtB;AACD;AACF;;;8BAES;AACR,UAAI,KAAK,KAAL,CAAW,aAAX,OAA+B,KAAnC,EAA0C;AACxC;AACA,aAAK,KAAL,CAAW,OAAX;AACD;AACF;;;4BAEO,M,EAAQ,M,EAAQ;AACtB,aAAO,SAAS,uCAAK,WAAU,gBAAf,EAAgC,OAAO;AACrD;AADqD,SAAvC,GAAT,GAEK,EAFZ;AAGD;;;8BAES,K,EAAO,S,EAAW;AAC1B,aAAO,QAAQ;AAAA;AAAA,UAAK,WAAU,cAAf;AACb;AAAA;AAAA,YAAI,WAAU,mBAAd;AAAmC;AAAnC,SADa;AAEZ,oBAAY;AAAA;AAAA,YAAG,SAAS,KAAK,OAAjB,EAA0B,WAAU,oBAApC;AAAA;AAAA,SAAZ,GAA6E;AAFjE,OAAR,GAGE,EAHT;AAID;;;6BAEQ;AAAA,mBAC4D,KAAK,KADjE;AAAA,UACC,IADD,UACC,IADD;AAAA,UACO,KADP,UACO,KADP;AAAA,UACc,KADd,UACc,KADd;AAAA,UACqB,MADrB,UACqB,MADrB;AAAA,UAC6B,OAD7B,UAC6B,OAD7B;AAAA,UACsC,MADtC,UACsC,MADtC;AAAA,UAC8C,SAD9C,UAC8C,SAD9C;;;AAGP,WAAK,WAAL,CAAiB,OAAjB;;AAEA,aAAO,UACL;AAAA;AAAA;AACG,aAAK,OAAL,CAAa,IAAb,EAAmB,MAAnB,CADH;AAEE;AAAA;AAAA,YAAK,WAAU,gBAAf,EAAgC,OAAO;AACrC,sBAAQ,SAAS;AADoB,aAAvC;AAGE;AAAA;AAAA,cAAK,WAAU,WAAf,EAA2B,OAAO;AAChC;AADgC,eAAlC;AAGG,iBAAK,SAAL,CAAe,KAAf,EAAsB,SAAtB,CAHH;AAIE;AAAA;AAAA,gBAAK,WAAU,cAAf;AACG,mBAAK,KAAL,CAAW;AADd,aAJF;AAOE;AAAA;AAAA,gBAAK,WAAU,cAAf;AAA+B;AAA/B;AAPF;AAHF;AAFF,OADK,GAiBH,IAjBJ;AAkBD;;;;;;kBAGY,M","file":"Dialog.jsx","sourcesContent":["/**\r\n * imui.Dialog\r\n * @author jero\r\n * @date 2016-07-28\r\n */\r\n\r\nimport React, { Component } from 'react';\r\nimport { getScrollBarWidth, checkScrollbar } from './util';\r\n\r\nclass Dialog extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.parseScroll = this.parseScroll.bind(this);\r\n    this.onClose = this.onClose.bind(this);\r\n  }\r\n\r\n\r\n  parseScroll(visible) {\r\n    const body = document.body;\r\n\r\n    if (checkScrollbar() && visible) {\r\n      body.style.paddingRight = `${getScrollBarWidth()}px`;\r\n      body.style.overflow = 'hidden';\r\n    } else {\r\n      body.style.paddingRight = '';\r\n      body.style.overflow = 'auto';\r\n    }\r\n  }\r\n\r\n  onClose() {\r\n    if (this.props.onBeforeClose() !== false) {\r\n      // this.parseScroll(false);\r\n      this.props.onClose();\r\n    }\r\n  }\r\n\r\n  getMask(isMask, zIndex) {\r\n    return isMask ? <div className=\"im-dialog-mask\" style={{\r\n      zIndex\r\n    }}></div> : '';\r\n  }\r\n\r\n  getHeader(title, closeable) {\r\n    return title ? <div className=\"im-dialog-hd\">\r\n      <h3 className=\"im-dialog-hd-text\">{title}</h3>\r\n      {closeable ? <a onClick={this.onClose} className=\"im-dialog-hd-close\">Ã—</a> : ''}\r\n    </div> : '';\r\n  }\r\n\r\n  render() {\r\n    const { mask, width, title, zIndex, visible, button, closeable } = this.props;\r\n\r\n    this.parseScroll(visible);\r\n\r\n    return visible ? (\r\n      <div>\r\n        {this.getMask(mask, zIndex)}\r\n        <div className=\"im-dialog-wrap\" style={{\r\n          zIndex: zIndex + 1\r\n        }}>\r\n          <div className=\"im-dialog\" style={{\r\n            width\r\n          }}>\r\n            {this.getHeader(title, closeable)}\r\n            <div className=\"im-dialog-bd\">\r\n              {this.props.children}\r\n            </div>\r\n            <div className=\"im-dialog-ft\">{button}</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    ) : null;\r\n  }\r\n}\r\n\r\nexport default Dialog;\r\n"]}