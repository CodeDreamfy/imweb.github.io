{"version":3,"sources":["Tab.jsx"],"names":[],"mappings":";;;;;;;;;;AAQA;;;;AACA;;;;;;;;;;+eATA;;;;;;;;IAYqB,G;;;AAmBnB,eAAY,KAAZ,EAAmB;AAAA;;AAAA,uFACX,KADW;;AAGjB,UAAK,KAAL,GAAa;AACX,cAAQ,MAAM;AADH,KAAb;;AAIA,UAAK,cAAL,GAAsB,MAAK,cAAL,CAAoB,IAApB,OAAtB;AACA,UAAK,QAAL,GAAgB,MAAK,QAAL,CAAc,IAAd,OAAhB;AARiB;AASlB;;;;qCAEgB;AAAA,UACP,QADO,GACwB,KAAK,KAD7B,CACP,QADO;AAAA,UAEP,MAFO,GAEI,KAAK,KAFT,CAEP,MAFO;;AAGf,UAAM,WAAW,EAAjB;;AAEA,sBAAM,QAAN,CAAe,OAAf,CAAuB,QAAvB,EAAiC,UAAC,KAAD,EAAQ,KAAR,EAAkB;AACjD,YAAI,CAAC,MAAD,KAAY,KAAhB,EAAuB;AACrB;AACA,mBAAS,IAAT,CAAc,KAAd;AACD;AACF,OALD;;AAOA,aAAO,QAAP;AACD;;;6BAEQ,O,EAAS,I,EAAM;AACtB,WAAK,QAAL,CAAc;AACZ,gBAAQ;AADI,OAAd;AAGA,WAAK,KAAL,CAAW,QAAX,CAAoB,OAApB,EAA6B,IAA7B;AACD;;;6BAEQ;AAAA,mBACmD,KAAK,KADxD;AAAA,UACC,QADD,UACC,QADD;AAAA,UACW,OADX,UACW,OADX;AAAA,UACoB,UADpB,UACoB,UADpB;AAAA,UACgC,cADhC,UACgC,cADhC;AAAA,UAEC,MAFD,GAEY,KAAK,KAFjB,CAEC,MAFD;;AAGP,UAAM,cAAc,KAAK,cAAL,EAApB;;AAEA,aACE;AAAA;AAAA,UAAK,WAAU,QAAf;AACE;AACE,sBAAY,UADd;AAEE,oBAAU,KAAK,QAFjB;AAGE,0BAAgB,cAHlB;;AAKE,kBAAQ,QALV;AAME,kBAAQ,MANV;AAOE,mBAAS;AAPX,UADF;AAUE;AAAA;AAAA,YAAK,WAAU,WAAf;AACG;AADH;AAVF,OADF;AAgBD;;;;EAzE8B,gBAAM,S;;AAAlB,G,CACZ,S,GAAY;AACjB,aAAW,iBAAU,MADJ;AAEjB,UAAQ,iBAAU,MAFD;AAGjB,cAAY,iBAAU,IAHL;AAIjB,YAAU,iBAAU,IAJH;AAKjB,kBAAgB,iBAAU,IALT;AAMjB,WAAS,iBAAU,KAAV,CAAgB,CAAC,QAAD,EAAW,QAAX,EAAqB,KAArB,CAAhB;AANQ,C;AADA,G,CAUZ,Y,GAAe;AACpB,aAAW,QADS;AAEpB,UAAQ,GAFY;AAGpB,WAAS,QAHW,EAGD;AACnB,YAJoB,wBAIP,CAAE,CAJK;AAKpB,UALoB,sBAKT,CAAE,CALO;AAMpB,gBANoB,4BAMH,CAAE;AANC,C;kBAVH,G","file":"Tab.jsx","sourcesContent":["/**\r\n * imui.Tab\r\n * @author jero\r\n * @date 2016-07-12\r\n *\r\n * @todo prefix class\r\n */\r\n\r\nimport React, { PropTypes } from 'react';\r\nimport TabNav from './TabNav';\r\n\r\n\r\nexport default class Tab extends React.Component {\r\n  static propTypes = {\r\n    prefixCls: PropTypes.string,\r\n    active: PropTypes.string,\r\n    onTabClick: PropTypes.func,\r\n    onActive: PropTypes.func,\r\n    onBeforeActive: PropTypes.func,\r\n    tabType: PropTypes.oneOf(['bottom', 'border', 'top'])\r\n  };\r\n\r\n  static defaultProps = {\r\n    prefixCls: 'im-tab',\r\n    active: '0',\r\n    tabType: 'bottom', // bottom | border | top\r\n    onTabClick() {},\r\n    onActive() {},\r\n    onBeforeActive() {}\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      active: props.active\r\n    };\r\n\r\n    this.getActivePanel = this.getActivePanel.bind(this);\r\n    this.onActive = this.onActive.bind(this);\r\n  }\r\n\r\n  getActivePanel() {\r\n    const { children /* , prefixCls */ } = this.props;\r\n    const { active } = this.state;\r\n    const newChild = [];\r\n\r\n    React.Children.forEach(children, (child, index) => {\r\n      if (+active === index) {\r\n        // child.props.prefixCls = prefixCls; // @todo 这里的传参？！\r\n        newChild.push(child);\r\n      }\r\n    });\r\n\r\n    return newChild;\r\n  }\r\n\r\n  onActive(current, prev) {\r\n    this.setState({\r\n      active: current\r\n    });\r\n    this.props.onActive(current, prev);\r\n  }\r\n\r\n  render() {\r\n    const { children, tabType, onTabClick, onBeforeActive } = this.props;\r\n    const { active } = this.state;\r\n    const activePanel = this.getActivePanel();\r\n\r\n    return (\r\n      <div className=\"im-tab\">\r\n        <TabNav\r\n          onTabClick={onTabClick}\r\n          onActive={this.onActive}\r\n          onBeforeActive={onBeforeActive}\r\n\r\n          panels={children}\r\n          active={active}\r\n          tabType={tabType}\r\n        />\r\n        <div className=\"im-tab-bd\">\r\n          {activePanel}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]}