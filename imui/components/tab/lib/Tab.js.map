{"version":3,"sources":["Tab.jsx"],"names":[],"mappings":";;;;;;;;;;AAQA;;;;AACA;;;;;;;;;;+eATA;;;;;;;;IAYqB,G;;;AAmBnB,eAAY,KAAZ,EAAmB;AAAA;;AAAA,uFACX,KADW;;AAGjB,UAAK,KAAL,GAAa;AACX,cAAQ,MAAM;AADH,KAAb;;AAIA,UAAK,cAAL,GAAsB,MAAK,cAAL,CAAoB,IAApB,OAAtB;AACA,UAAK,QAAL,GAAgB,MAAK,QAAL,CAAc,IAAd,OAAhB;AARiB;AASlB;;;;qCAEgB;AAAA,UACP,QADO,GACwB,KAAK,KAD7B,CACP,QADO;AAAA,UAEP,MAFO,GAEI,KAAK,KAFT,CAEP,MAFO;;AAGf,UAAM,WAAW,EAAjB;;AAEA,sBAAM,QAAN,CAAe,OAAf,CAAuB,QAAvB,EAAiC,UAAC,KAAD,EAAQ,KAAR,EAAkB;AACjD,YAAI,CAAC,MAAD,KAAY,KAAhB,EAAuB;AACrB;AACA,mBAAS,IAAT,CAAc,KAAd;AACD;AACF,OALD;;AAOA,aAAO,QAAP;AACD;;;6BAEQ,O,EAAS,I,EAAM;AACtB,WAAK,QAAL,CAAc;AACZ,gBAAQ;AADI,OAAd;AAGA,WAAK,KAAL,CAAW,QAAX,CAAoB,OAApB,EAA6B,IAA7B;AACD;;;6BAEQ;AAAA,mBACmD,KAAK,KADxD;AAAA,UACC,QADD,UACC,QADD;AAAA,UACW,OADX,UACW,OADX;AAAA,UACoB,UADpB,UACoB,UADpB;AAAA,UACgC,cADhC,UACgC,cADhC;AAAA,UAEC,MAFD,GAEY,KAAK,KAFjB,CAEC,MAFD;;AAGP,UAAM,cAAc,KAAK,cAAL,EAApB;;AAEA,aACE;AAAA;AAAA,UAAK,WAAU,QAAf;AACE;AACE,sBAAY,UADd;AAEE,oBAAU,KAAK,QAFjB;AAGE,0BAAgB,cAHlB;;AAKE,kBAAQ,QALV;AAME,kBAAQ,MANV;AAOE,mBAAS;AAPX,UADF;AAUE;AAAA;AAAA,YAAK,WAAU,WAAf;AACG;AADH;AAVF,OADF;AAgBD;;;;EAzE8B,gBAAM,S;;AAAlB,G,CACZ,S,GAAY;AACjB,aAAW,iBAAU,MADJ;AAEjB,UAAQ,iBAAU,MAFD;AAGjB,cAAY,iBAAU,IAHL;AAIjB,YAAU,iBAAU,IAJH;AAKjB,kBAAgB,iBAAU,IALT;AAMjB,WAAS,iBAAU,KAAV,CAAgB,CAAC,QAAD,EAAW,QAAX,EAAqB,KAArB,CAAhB;AANQ,C;AADA,G,CAUZ,Y,GAAe;AACpB,aAAW,QADS;AAEpB,UAAQ,GAFY;AAGpB,WAAS,QAHW,EAGD;AACnB,YAJoB,wBAIP,CAAE,CAJK;AAKpB,UALoB,sBAKT,CAAE,CALO;AAMpB,gBANoB,4BAMH,CAAE;AANC,C;kBAVH,G","file":"Tab.jsx","sourcesContent":["/**\n * imui.Tab\n * @author jero\n * @date 2016-07-12\n *\n * @todo prefix class\n */\n\nimport React, { PropTypes } from 'react';\nimport TabNav from './TabNav';\n\n\nexport default class Tab extends React.Component {\n  static propTypes = {\n    prefixCls: PropTypes.string,\n    active: PropTypes.string,\n    onTabClick: PropTypes.func,\n    onActive: PropTypes.func,\n    onBeforeActive: PropTypes.func,\n    tabType: PropTypes.oneOf(['bottom', 'border', 'top'])\n  };\n\n  static defaultProps = {\n    prefixCls: 'im-tab',\n    active: '0',\n    tabType: 'bottom', // bottom | border | top\n    onTabClick() {},\n    onActive() {},\n    onBeforeActive() {}\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      active: props.active\n    };\n\n    this.getActivePanel = this.getActivePanel.bind(this);\n    this.onActive = this.onActive.bind(this);\n  }\n\n  getActivePanel() {\n    const { children /* , prefixCls */ } = this.props;\n    const { active } = this.state;\n    const newChild = [];\n\n    React.Children.forEach(children, (child, index) => {\n      if (+active === index) {\n        // child.props.prefixCls = prefixCls; // @todo 这里的传参？！\n        newChild.push(child);\n      }\n    });\n\n    return newChild;\n  }\n\n  onActive(current, prev) {\n    this.setState({\n      active: current\n    });\n    this.props.onActive(current, prev);\n  }\n\n  render() {\n    const { children, tabType, onTabClick, onBeforeActive } = this.props;\n    const { active } = this.state;\n    const activePanel = this.getActivePanel();\n\n    return (\n      <div className=\"im-tab\">\n        <TabNav\n          onTabClick={onTabClick}\n          onActive={this.onActive}\n          onBeforeActive={onBeforeActive}\n\n          panels={children}\n          active={active}\n          tabType={tabType}\n        />\n        <div className=\"im-tab-bd\">\n          {activePanel}\n        </div>\n      </div>\n    );\n  }\n}\n"]}