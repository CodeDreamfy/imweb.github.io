define("node_modules/dom-align/lib/index",function(require,exports,module){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function isFailX(elFuturePos,elRegion,visibleRect){return elFuturePos.left<visibleRect.left||elFuturePos.left+elRegion.width>visibleRect.right}function isFailY(elFuturePos,elRegion,visibleRect){return elFuturePos.top<visibleRect.top||elFuturePos.top+elRegion.height>visibleRect.bottom}function isCompleteFailX(elFuturePos,elRegion,visibleRect){return elFuturePos.left>visibleRect.right||elFuturePos.left+elRegion.width<visibleRect.left}function isCompleteFailY(elFuturePos,elRegion,visibleRect){return elFuturePos.top>visibleRect.bottom||elFuturePos.top+elRegion.height<visibleRect.top}function flip(points,reg,map){var ret=[];return _utils2["default"].each(points,function(p){ret.push(p.replace(reg,function(m){return map[m]}))}),ret}function flipOffset(offset,index){return offset[index]=-offset[index],offset}function convertOffset(str,offsetLen){var n=void 0;return n=/%$/.test(str)?parseInt(str.substring(0,str.length-1),10)/100*offsetLen:parseInt(str,10),n||0}function normalizeOffset(offset,el){offset[0]=convertOffset(offset[0],el.width),offset[1]=convertOffset(offset[1],el.height)}function domAlign(el,refNode,align){var points=align.points,offset=align.offset||[0,0],targetOffset=align.targetOffset||[0,0],overflow=align.overflow,target=align.target||refNode,source=align.source||el;offset=[].concat(offset),targetOffset=[].concat(targetOffset),overflow=overflow||{};var newOverflowCfg={},fail=0,visibleRect=_getVisibleRectForElement2["default"](source),elRegion=_getRegion2["default"](source),refNodeRegion=_getRegion2["default"](target);normalizeOffset(offset,elRegion),normalizeOffset(targetOffset,refNodeRegion);var elFuturePos=_getElFuturePos2["default"](elRegion,refNodeRegion,points,offset,targetOffset),newElRegion=_utils2["default"].merge(elRegion,elFuturePos);if(visibleRect&&(overflow.adjustX||overflow.adjustY)){if(overflow.adjustX&&isFailX(elFuturePos,elRegion,visibleRect)){var newPoints=flip(points,/[lr]/gi,{l:"r",r:"l"}),newOffset=flipOffset(offset,0),newTargetOffset=flipOffset(targetOffset,0),newElFuturePos=_getElFuturePos2["default"](elRegion,refNodeRegion,newPoints,newOffset,newTargetOffset);isCompleteFailX(newElFuturePos,elRegion,visibleRect)||(fail=1,points=newPoints,offset=newOffset,targetOffset=newTargetOffset)}if(overflow.adjustY&&isFailY(elFuturePos,elRegion,visibleRect)){var newPoints=flip(points,/[tb]/gi,{t:"b",b:"t"}),newOffset=flipOffset(offset,1),newTargetOffset=flipOffset(targetOffset,1),newElFuturePos=_getElFuturePos2["default"](elRegion,refNodeRegion,newPoints,newOffset,newTargetOffset);isCompleteFailY(newElFuturePos,elRegion,visibleRect)||(fail=1,points=newPoints,offset=newOffset,targetOffset=newTargetOffset)}fail&&(elFuturePos=_getElFuturePos2["default"](elRegion,refNodeRegion,points,offset,targetOffset),_utils2["default"].mix(newElRegion,elFuturePos)),newOverflowCfg.adjustX=overflow.adjustX&&isFailX(elFuturePos,elRegion,visibleRect),newOverflowCfg.adjustY=overflow.adjustY&&isFailY(elFuturePos,elRegion,visibleRect),(newOverflowCfg.adjustX||newOverflowCfg.adjustY)&&(newElRegion=_adjustForViewport2["default"](elFuturePos,elRegion,visibleRect,newOverflowCfg))}return newElRegion.width!==elRegion.width&&_utils2["default"].css(source,"width",source.width()+newElRegion.width-elRegion.width),newElRegion.height!==elRegion.height&&_utils2["default"].css(source,"height",source.height()+newElRegion.height-elRegion.height),_utils2["default"].offset(source,{left:newElRegion.left,top:newElRegion.top},{useCssRight:align.useCssRight,useCssBottom:align.useCssBottom}),{points:points,offset:offset,targetOffset:targetOffset,overflow:newOverflowCfg}}Object.defineProperty(exports,"__esModule",{value:!0});var _utils=require("node_modules/dom-align/lib/utils"),_utils2=_interopRequireDefault(_utils),_getOffsetParent=require("node_modules/dom-align/lib/getOffsetParent"),_getOffsetParent2=_interopRequireDefault(_getOffsetParent),_getVisibleRectForElement=require("node_modules/dom-align/lib/getVisibleRectForElement"),_getVisibleRectForElement2=_interopRequireDefault(_getVisibleRectForElement),_adjustForViewport=require("node_modules/dom-align/lib/adjustForViewport"),_adjustForViewport2=_interopRequireDefault(_adjustForViewport),_getRegion=require("node_modules/dom-align/lib/getRegion"),_getRegion2=_interopRequireDefault(_getRegion),_getElFuturePos=require("node_modules/dom-align/lib/getElFuturePos"),_getElFuturePos2=_interopRequireDefault(_getElFuturePos);domAlign.__getOffsetParent=_getOffsetParent2["default"],domAlign.__getVisibleRectForElement=_getVisibleRectForElement2["default"],exports["default"]=domAlign,module.exports=exports["default"]});